const a0_0x191fe7=a0_0x2fd5;(function(_0x20c88e,_0x942adc){const _0x694ec0=a0_0x2fd5,_0x4c81aa=_0x20c88e();while(!![]){try{const _0x187494=-parseInt(_0x694ec0(0x1c7))/0x1*(-parseInt(_0x694ec0(0x1bd))/0x2)+-parseInt(_0x694ec0(0x1d6))/0x3+-parseInt(_0x694ec0(0x1c5))/0x4+-parseInt(_0x694ec0(0x1da))/0x5+-parseInt(_0x694ec0(0x1c6))/0x6+parseInt(_0x694ec0(0x1d8))/0x7+-parseInt(_0x694ec0(0x1e3))/0x8*(-parseInt(_0x694ec0(0x1e0))/0x9);if(_0x187494===_0x942adc)break;else _0x4c81aa['push'](_0x4c81aa['shift']());}catch(_0x15bf49){_0x4c81aa['push'](_0x4c81aa['shift']());}}}(a0_0x8229,0xc0e57));class Book{constructor(_0x2b1c1f,_0x17a75e,_0x35d25c,_0x161466,_0x1b7e38){const _0x1e9a05=a0_0x2fd5;this['ISBN']=_0x2b1c1f,this['author']=_0x17a75e,this[_0x1e9a05(0x1c8)]=_0x35d25c,this['pageNumbers']=_0x161466,this[_0x1e9a05(0x1c0)]=_0x1b7e38,this[_0x1e9a05(0x1df)]=![];}}class Shelf{constructor(){const _0x520656=a0_0x2fd5;this[_0x520656(0x1ce)]=[];}[a0_0x191fe7(0x1bc)](_0x542b94){const _0x3aeacb=a0_0x191fe7;this['books'][_0x3aeacb(0x1ca)](_0x542b94);}[a0_0x191fe7(0x1de)](_0x101067){const _0x60622a=a0_0x191fe7;this[_0x60622a(0x1ce)]=this[_0x60622a(0x1ce)]['filter'](_0x101067);}[a0_0x191fe7(0x1dd)](_0xc11a1e){return this['books']['filter'](_0xc11a1e);}}class SortedShelf extends Shelf{constructor(_0x49ba99){super(),this['sortingFunction']=_0x49ba99;}[a0_0x191fe7(0x1bc)](_0x2d68c8){const _0x2067ec=a0_0x191fe7;super[_0x2067ec(0x1bc)](_0x2d68c8),this[_0x2067ec(0x1ce)][_0x2067ec(0x1db)](this[_0x2067ec(0x1cd)]);}}function AlreadyBorrowed(_0xe36692){const _0x2ffd59=a0_0x191fe7;this[_0x2ffd59(0x1cf)]=_0xe36692,this[_0x2ffd59(0x1d3)]=_0x2ffd59(0x1bf);}function a0_0x2fd5(_0x51ac1d,_0x491522){const _0x822921=a0_0x8229();return a0_0x2fd5=function(_0x2fd5bb,_0x4cdace){_0x2fd5bb=_0x2fd5bb-0x1b8;let _0x426ca9=_0x822921[_0x2fd5bb];return _0x426ca9;},a0_0x2fd5(_0x51ac1d,_0x491522);}function a0_0x8229(){const _0x1dcee0=['getAllBy','removeBook','borrowed','10364598MJmiFm','borrowABook','Book','8XAcWBL','shelfs','exports','_id','There\x20is\x20no\x20such\x20user\x20with\x20id\x20=\x20','User','Shelf','addBook','2900oiJono','author','AlreadyBorrowed','genre','add','length','getBookByTitleRegex','getBookByGenre','1155116yAkSnv','6484338ZXOQcd','773hQtpnR','title','getBookByAuthor','push','NoSuchBookOnShelf','getBookByTitle','sortingFunction','books','message','\x20is\x20already\x20borrowed!','SortedShelf','getBookByAuthorRegex','name','addShelf','users','2582367LnOkBN','match','10532963QlJfYw','UndefinedUser','3783935SfCxjd','sort','filter'];a0_0x8229=function(){return _0x1dcee0;};return a0_0x8229();}function UndefinedUser(_0x371fd5){const _0x2c55c3=a0_0x191fe7;this[_0x2c55c3(0x1cf)]=_0x371fd5,this[_0x2c55c3(0x1d3)]=_0x2c55c3(0x1d9);}function NoSuchBookOnShelf(_0x501b28){this['message']=_0x501b28,this['name']='NoSuchBookOnShelf';}class Library{constructor(){const _0x2033fa=a0_0x191fe7;this[_0x2033fa(0x1e4)]=[],this['users']=new Set();}['addUser'](_0x57ed4a){const _0xceb1d1=a0_0x191fe7;this[_0xceb1d1(0x1d5)][_0xceb1d1(0x1c1)](_0x57ed4a);}[a0_0x191fe7(0x1e1)](_0x1b1c9b,_0x94d4de){const _0x4d639a=a0_0x191fe7;if(![]===this['users']['has'](_0x1b1c9b)){throw new UndefinedUser(_0x4d639a(0x1b9)+_0x1b1c9b['id']);return;}var _0x34024f=![];for(let _0x5af73a=0x0;_0x5af73a<this[_0x4d639a(0x1e4)][_0x4d639a(0x1c2)];_0x5af73a++){const _0x51e0bc=this[_0x4d639a(0x1e4)][_0x5af73a][_0x4d639a(0x1ce)][_0x4d639a(0x1dc)](_0x4a278c=>{return _0x4a278c===_0x94d4de;});if(_0x51e0bc['length']!=0x0){_0x34024f=!![];break;}}if(!_0x34024f){throw new NoSuchBookOnShelf('There\x20is\x20no\x20such\x20book\x20in\x20library\x20with\x20title\x20=\x20'+_0x94d4de[_0x4d639a(0x1c8)]);return;}if(_0x94d4de[_0x4d639a(0x1df)]){throw new AlreadyBorrowed(_0x94d4de['title']+_0x4d639a(0x1d0));return;}_0x94d4de[_0x4d639a(0x1df)]=!![],_0x1b1c9b[_0x4d639a(0x1ce)][_0x4d639a(0x1ca)](_0x94d4de);}[a0_0x191fe7(0x1d4)](_0x160245){const _0x107b57=a0_0x191fe7;this[_0x107b57(0x1e4)][_0x107b57(0x1ca)](_0x160245);}[a0_0x191fe7(0x1c9)](_0xd3dd7b){const _0x626b4f=a0_0x191fe7,_0x5de0fe=[];for(let _0x3b9aa6=0x0;_0x3b9aa6<this[_0x626b4f(0x1e4)][_0x626b4f(0x1c2)];_0x3b9aa6++){const _0x241b73=this[_0x626b4f(0x1e4)][_0x3b9aa6][_0x626b4f(0x1ce)][_0x626b4f(0x1dc)](_0xc3f41b=>{const _0x4d159c=_0x626b4f;return _0xc3f41b[_0x4d159c(0x1be)]===_0xd3dd7b;});for(let _0x4e1e07=0x0;_0x4e1e07<_0x241b73[_0x626b4f(0x1c2)];_0x4e1e07++){_0x5de0fe[_0x626b4f(0x1ca)](_0x241b73[_0x4e1e07]);}}return _0x5de0fe;}[a0_0x191fe7(0x1d2)](_0x10373b){const _0xd6185e=a0_0x191fe7,_0x263846=[];for(let _0xba700d=0x0;_0xba700d<this[_0xd6185e(0x1e4)][_0xd6185e(0x1c2)];_0xba700d++){const _0x4110ac=this[_0xd6185e(0x1e4)][_0xba700d][_0xd6185e(0x1ce)]['filter'](_0x50dc92=>{const _0x3a82f0=_0xd6185e;return _0x50dc92[_0x3a82f0(0x1be)]['match'](_0x10373b);});for(let _0x3fb779=0x0;_0x3fb779<_0x4110ac['length'];_0x3fb779++){_0x263846['push'](_0x4110ac[_0x3fb779]);}}return _0x263846;}['getBookByISBN'](_0x139c70){const _0x515d56=a0_0x191fe7,_0x10c87d=[];for(let _0x582e94=0x0;_0x582e94<this[_0x515d56(0x1e4)][_0x515d56(0x1c2)];_0x582e94++){const _0x368048=this[_0x515d56(0x1e4)][_0x582e94][_0x515d56(0x1ce)][_0x515d56(0x1dc)](_0x366f49=>{return _0x366f49['ISBN']===_0x139c70;});for(let _0x585290=0x0;_0x585290<_0x368048['length'];_0x585290++){_0x10c87d[_0x515d56(0x1ca)](_0x368048[_0x585290]);}}return _0x10c87d;}[a0_0x191fe7(0x1c4)](_0x4269a5){const _0x267453=a0_0x191fe7,_0x5974d=[];for(let _0x54b63f=0x0;_0x54b63f<this['shelfs'][_0x267453(0x1c2)];_0x54b63f++){const _0x2aacb5=this[_0x267453(0x1e4)][_0x54b63f][_0x267453(0x1ce)][_0x267453(0x1dc)](_0x115829=>{const _0x1360e4=_0x267453;return _0x115829[_0x1360e4(0x1c0)]===_0x4269a5;});for(let _0x28aa40=0x0;_0x28aa40<_0x2aacb5['length'];_0x28aa40++){_0x5974d[_0x267453(0x1ca)](_0x2aacb5[_0x28aa40]);}}return _0x5974d;}['getBookByGenreRegex'](_0x4ef775){const _0x2da1b4=a0_0x191fe7,_0x338b80=[];for(let _0x388581=0x0;_0x388581<this[_0x2da1b4(0x1e4)]['length'];_0x388581++){const _0x41ff46=this[_0x2da1b4(0x1e4)][_0x388581][_0x2da1b4(0x1ce)][_0x2da1b4(0x1dc)](_0x23ec2d=>{const _0x4d98c6=_0x2da1b4;return _0x23ec2d['genre'][_0x4d98c6(0x1d7)](_0x4ef775);});for(let _0x50b3ed=0x0;_0x50b3ed<_0x41ff46[_0x2da1b4(0x1c2)];_0x50b3ed++){_0x338b80[_0x2da1b4(0x1ca)](_0x41ff46[_0x50b3ed]);}}return _0x338b80;}[a0_0x191fe7(0x1cc)](_0x5ae075){const _0x1356a1=a0_0x191fe7,_0x50f93a=[];for(let _0xe9f401=0x0;_0xe9f401<this['shelfs'][_0x1356a1(0x1c2)];_0xe9f401++){const _0x4c1a50=this['shelfs'][_0xe9f401][_0x1356a1(0x1ce)][_0x1356a1(0x1dc)](_0x5b3089=>{return _0x5b3089['title']===_0x5ae075;});for(let _0x4f29c7=0x0;_0x4f29c7<_0x4c1a50[_0x1356a1(0x1c2)];_0x4f29c7++){_0x50f93a['push'](_0x4c1a50[_0x4f29c7]);}}return _0x50f93a;}[a0_0x191fe7(0x1c3)](_0x7bde02){const _0x3ff95f=a0_0x191fe7,_0x2be95a=[];for(let _0x80e175=0x0;_0x80e175<this[_0x3ff95f(0x1e4)][_0x3ff95f(0x1c2)];_0x80e175++){const _0x3573e7=this['shelfs'][_0x80e175][_0x3ff95f(0x1ce)][_0x3ff95f(0x1dc)](_0x4d4455=>{return _0x4d4455['title']['match'](_0x7bde02);});for(let _0x2f6a40=0x0;_0x2f6a40<_0x3573e7[_0x3ff95f(0x1c2)];_0x2f6a40++){_0x2be95a[_0x3ff95f(0x1ca)](_0x3573e7[_0x2f6a40]);}}return _0x2be95a;}}class User{static [a0_0x191fe7(0x1b8)]=0x0;constructor(){const _0x3d238a=a0_0x191fe7;this['id']=User['_id']++,this[_0x3d238a(0x1ce)]=[];}}module[a0_0x191fe7(0x1e5)]={},module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1e2)]=Book,module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1bb)]=Shelf,module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1d1)]=SortedShelf,module[a0_0x191fe7(0x1e5)]['Library']=Library,module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1ba)]=User,module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1d9)]=UndefinedUser,module['exports'][a0_0x191fe7(0x1cb)]=NoSuchBookOnShelf,module[a0_0x191fe7(0x1e5)][a0_0x191fe7(0x1bf)]=AlreadyBorrowed;